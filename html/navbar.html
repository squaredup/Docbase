<div class="container-fluid">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a id="docs-appbase-logo" class="navbar-brand" href="#/{{currentVersion}}">
      <img src="./images/logo.png" />
    </a>
  </div>
  <div class="collapse navbar-collapse" id="navbar-collapse">
    <div class="pull-left  hidden-xs" id="folder-navbar">
      <ul class="nav navbar-nav folder-li">
	  
		<script type="text/ng-template" id="navrenderer.html">
			<a ng-href="{{path}}/{{file.files ? file.name + '/index' : file.name}}" title="{{file.label || file.name}}" ng-init="current=file">
				{{file.label || file.name}}				
			</a>
			
			<ul style="margin-left:40px;">
				<li ng-repeat="file in file.files" data-ng-hide="file.name == 'index'" ng-init="path=path +'/' + current.name" ng-include="'navrenderer.html'"></li>
			</ul>
		</script>
	  
        <li class="dropdown" ng-repeat="folder in map[currentVersion]">
          <a ng-href="#/{{currentVersion}}/{{folder.name}}/index"
             class="dropdown-toggle map_folder"
             data-toggle="dropdown"
             role="button"
             aria-expanded="false"
             title="{{folder.label}}"
             >
            <span ng-bind="folder.label" class="link-restrict"></span>
           </a>
          <ul class="dropdown-menu">
            <li ng-repeat="file in folder.files" ng-init="path='#/' + currentVersion + '/' + folder.name"data-ng-hide="file.name == 'index'" ng-include="'navrenderer.html'"></li>
          </ul>
        </li>
      </ul>
     
    </div>
    <div  class="pull-right" id="other-navs">
      <ul class="nav navbar-nav navbar-right">
         <li class="dropdown search-dropdown">
          <div class="form-group search-form"  data-ng-class="{'open-in':search.length > 0}" >
            <input data-ng-model="search" type="text" class="search_field form-control dropdown-toggle"
               data-toggle="dropdown"
               aria-expanded="false"
               placeholder="search.." />
          </div>
        </li>
        <li class="dropdown  hidden-xs">
          <a href=""
             class="dropdown-toggle"
             data-toggle="dropdown"
             role="button"
             aria-expanded="false">
             <span ng-bind="currentVersion"></span> <span class="caret"></span>
          </a>
          <ul class="dropdown-menu version-switcher" role="menu">
            <li ng-repeat="version in versions">
              <a ng-href="#/{{version}}" ng-bind="version"></a>
            </li>
          </ul>
        </li>
        <li class="hidden-xs">
          <a href="http://support.squaredup.com/support/tickets/new" target="_blank">Open a ticket</a>
        </li>
      </ul>
    </div>
    <!-- Only for mobile view -->
    <div class="mobile-nav visible-xs-block">
      <ul class="nav navbar-nav">
        <li class="dropdown col-xs-12 p-l-0">
          <a href=""
             class="dropdown-toggle"
             data-toggle="dropdown"
             role="button"
             aria-expanded="false">
             <span ng-bind="currentVersion"></span> <span class="caret"></span>
          </a>
          <ul class="dropdown-menu version-switcher" role="menu">
            <li ng-repeat="version in versions">
              <a ng-href="#/{{version}}" ng-bind="version"></a>
            </li>
          </ul>
        </li>
        <li class="col-xs-12">          
          <a href="http://support.squaredup.com/support/tickets/new" target="_blank">Open a ticket</a>
        </li>      
        
          </ul>
        </li>
      </ul>
    </div><!-- /.Only for mobile view -->
  </div><!-- /.navbar-collapse -->
</div><!-- /.container-fluid -->
